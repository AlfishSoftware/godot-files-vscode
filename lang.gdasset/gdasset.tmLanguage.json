{
	"name": "GDAsset",
	"scopeName": "source.gdasset",
	"patterns": [
		{ "include": "#commentLine" },
		{ "include": "#sectionTag" },
		{ "include": "#propertyAssignment" },
		{ "include": "#expression" },
		{ "include": "#stringUnquoted" }
	],
	"repository": {
		"expression": {
			"name": "meta.expression.gdasset",
			"patterns": [
				{ "include": "#stringQuoted" },
				{ "include": "#literalWord" },
				{ "include": "#literalNumber" },
				{ "include": "#parameterReference" },
				{ "include": "#variableReference" },
				{ "include": "#expressionCall" }
			]
		},
		"commentLine": {
			"name": "comment.line.semicolon.gdasset",
			"match": "[;#].*"
		},
		"stringUnquoted": {
			"name": "string.unquoted.gdasset",
			"begin": "[\\w\\\\/.'!@$%&*|<>?`~^+-]",
			"patterns": [
				{ "name": "punctuation.definition.string.semicolon.gdasset", "match": ";" }
			],
			"end": "$"
		},
		"stringQuoted": {
			"name": "string.quoted.double.gdasset",
			"captures": {
				"0": { "name": "punctuation.definition.string.quoted.double.gdasset" }
			},
			"begin": "\"",
			"contentName": "string.quoted.double.content.gdasset",
			"patterns": [
				{
					"match": "(\\\\[\"nrt\\\\bf])|(\\\\u[0-9A-Fa-f]{4})|(\\\\)(?:.|$)",
					"captures": {
						"1": { "name": "constant.character.escape.gdasset" },
						"2": { "name": "constant.character.escape.gdasset" },
						"3": { "name": "comment.block.character.escape.gdasset" }
					}
				},
				{
					"name": "markup.underline.link.gdasset",
					"match": "[a-zA-Z][-+.a-zA-Z0-9]*://[^\\x{00}-\\x{1F} \"<>\\\\^`{|}\\x{7F}-\\x{9F}]*"
				}
			],
			"end": "\""
		},
		"propertyAssignment": {
			"match": "\\b((?:[\\w-]*[./])*[\\w-]+)\\b(?:\\s*\\[([\\w\\\\/.:!@$%+-]+)\\])?\\s*(=)",
			"captures": {
				"1": {
					"patterns": [
						{ "name": "punctuation.separator.namespace.gdasset", "match": "[./]" },
						{ "include": "#literalNumber" },
						{ "name": "variable.other.property.gdasset",
							"match": "[\\w-]+(?=(?:[./][0-9]+)*$)" },
						{ "name": "entity.name.variable.field.gdasset", "match": "." }
					]
				},
				"2": { "name": "support.constant.gdasset" },
				"3": { "name": "punctuation.separator.key-value.gdasset" }
			}
		},
		"attributeAssignment": {
			"match": "\\b((?:[\\w-]*[./])*)([\\w-]+)\\b\\s*(=)",
			"captures": {
				"1": {
					"patterns": [
						{ "name": "punctuation.separator.namespace.gdasset", "match": "[./]" },
						{ "name": "entity.other.attribute-name.namespace.gdasset", "match": "." }
					]
				},
				"2": { "name": "entity.other.attribute-name.localname.gdasset" },
				"3": { "name": "punctuation.separator.key-value.gdasset" }
			}
		},
		"literalWord": {
			"name": "constant.language.gdasset",
			"match": "\\b(?:null|false|true|inf|inf_neg|nan)\\b"
		},
		"literalNumber": {
			"name": "constant.numeric.gdasset",
			"match": "(?<![.])-?\\b[0-9]+(?:\\.[0-9]+)?(?:e[-+]?[0-9]+)?\\b(?=[,;#)\\]}]|\\s|$)"
		},
		"parameterReference": {
			"name": "variable.parameter.gdasset",
			"match": "\\b(ExtResource)\\s*([(])\\s*([0-9]+)\\s*([)])",
			"captures": {
				"1": { "name": "meta.entity.name.function.gdasset" },
				"2": { "name": "punctuation.parenthesis.parameter.gdasset" },
				"3": { "name": "meta.constant.numeric.variable.parameter.gdasset" },
				"4": { "name": "punctuation.parenthesis.parameter.gdasset" }
			}
		},
		"variableReference": {
			"name": "variable.other.gdasset",
			"match": "\\b(SubResource)\\s*([(])\\s*([0-9]+)\\s*([)])",
			"captures": {
				"1": { "name": "meta.entity.name.function.gdasset" },
				"2": { "name": "punctuation.parenthesis.variable.gdasset" },
				"3": { "name": "meta.constant.numeric.variable.other.gdasset" },
				"4": { "name": "punctuation.parenthesis.variable.gdasset" }
			}
		},
		"expressionCall": {
			"name": "meta.function-call.struct.gdasset",
			"begin": "\\b(\\w+)\\s*([(])",
			"beginCaptures": {
				"1": { "name": "entity.name.type.struct.gdasset" },
				"2": { "name": "punctuation.parenthesis.struct.gdasset" }
			},
			"patterns": [
				{ "include": "#propertyAssignment" },
				{ "include": "#expression" }
			],
			"end": "[)]",
			"endCaptures": {
				"0": { "name": "punctuation.parenthesis.struct.gdasset" }
			}
		},
		"sectionTag": {
			"name": "meta.section.gdasset",
			"begin": "^\\s*(\\[)\\s*([^\\[\\] \t\r\n]+)(?=.*?\\]\\s*(?:[;#].*)?$)",
			"beginCaptures": {
				"1": { "name": "punctuation.definition.section.gdasset" },
				"2": { "name": "entity.name.section.gdasset" }
			},
			"patterns": [
				{
					"match": "\\b(type)\\s*(=)\\s*\"(\\w+)\"",
					"captures": {
						"1": { "name": "entity.other.attribute-name.localname.gdasset" },
						"2": { "name": "punctuation.separator.key-value.gdasset" },
						"3": { "name": "storage.type.gdasset" }
					}
				},
				{
					"match": "(?<=\\[ext_resource\\s+)\\b(path)\\s*(=)\\s*\"(.+?)\"",
					"captures": {
						"1": { "name": "entity.other.attribute-name.localname.gdasset" },
						"2": { "name": "punctuation.separator.key-value.gdasset" },
						"3": { "name": "markup.underline.link.gdasset" }
					}
				},
				{
					"match": "\\b(path|parent)\\s*(=)\\s*\"(.+?)\"",
					"captures": {
						"1": { "name": "entity.other.attribute-name.localname.gdasset" },
						"2": { "name": "punctuation.separator.key-value.gdasset" },
						"3": { "name": "variable.name.gdasset" }
					}
				},
				{
					"match": "\\b(name)\\s*(=)\\s*\"(.+?)\"",
					"captures": {
						"1": { "name": "entity.other.attribute-name.localname.gdasset" },
						"2": { "name": "punctuation.separator.key-value.gdasset" },
						"3": { "name": "entity.name.tag.gdasset" }
					}
				},
				{ "include": "#attributeAssignment" },
				{ "include": "#expression" },
				{
					"name": "entity.name.section.gdasset",
					"match": "."
				}
			],
			"end": "\\]",
			"endCaptures": {
				"0": { "name": "punctuation.definition.section.gdasset" }
			}
		}
	}
}
